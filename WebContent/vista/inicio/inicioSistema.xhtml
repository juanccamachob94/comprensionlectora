<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:cl="comprensionlectora/facelets"
      template="../../resources/schemas/main_template.xhtml">
      <ui:define name="content">
        <h:form id="formBlogs">
          <p:outputLabel id="totalBlogs" value="#{blogBean.numRegistros} casos encontrados"/>
          <p:dataTable id="dataTableBlogs" value="#{blogBean.datos}" var="blog" style="width:97%" emptyMessage="Aún no se registran blogs">
            <cl:encabezadoPaginador bean="#{blogBean}"/>
            <p:columnGroup>
              <p:row>
                <p:column headerText="Blogs publicados"/>
              </p:row>
              <p:column>
                <p:panel header="#{blog.title}" toggleable="true" toggleSpeed="500">
                  <p style="text-align:justify">#{blog.description}</p>
                  <div class="enlaces">
                    <a href="#" style="float:left">#{blog.userapp.name} #{blog.userapp.lastname}</a>
                    <a href="#" style="float:right">Ver más</a>
                  </div>
                </p:panel>
              </p:column>
            </p:columnGroup>
            <cl:piePaginador bean="#{blogBean}"/>
          </p:dataTable>
          <cl:paginador id="pagBlogs" bean="#{blogBean}" formulario="formBlogs" tabla="dataTableBlogs"/>
          <cl:cargando nombre="bloqueoListaBlogs" bloqueo="formBlogs"/>
        </h:form>
    </ui:define>
</ui:composition>
