<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:cl="comprensionlectora/facelets"
      template="../../resources/schemas/main_template.xhtml">
      <ui:define name="content">
<p:diagram value="#{diagramBean.model}" style="height:70%;width:100%" styleClass="diagrama ui-widget-content otracosa" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
<button onclick="javascript:demoFromHTML();">PDF</button>
 
 
<style type="text/css">
    .ui-diagram-element {
        border:0.1em solid #FCEB01;
        background-color: white;    
        width:14em;
        line-height:4em;
        text-align: center;
    }
</style>
<img src="" id="img" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.3/FileSaver.min.js"></script>
<script src="https://github.com/niklasvh/html2canvas/releases/download/0.5.0-alpha1/html2canvas.svg.js"></script>
<script src="https://github.com/niklasvh/html2canvas/releases/download/0.5.0-alpha1/html2canvas.js"></script>
  <script>	
  function juan(){ 
	    html2canvas($('.otracosa').get(0)).then(function (canvas) {
	        var base64encodedstring = canvas.toDataURL("image/jpeg", 1);
	        $('#img').attr('src', base64encodedstring);
	      });	  
	  
  }

  </script>

    </ui:define>
</ui:composition>
