<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:cl="comprensionlectora/facelets">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <!-- Característica responsiva -->
        <meta name="viewport" content="width=device-width"/>
        <h:outputStylesheet name="css/main.css"/>
        <h:outputScript library="javax.faces" name="jsf.js" target="head" />
        <h:outputScript library="primefaces" name="jquery/jquery.js" target="head" />
        <h:outputScript library="primefaces" name="jquery/jquery-plugins.js" target="head" />
        <h:outputScript name="./js/main.js"/>
        <!--link rel="shortcut icon" href="../../../favicon.ico"-->
        <title>Comprensión lectora</title>
    </h:head>
    <h:body>
    	<f:event type="preRenderView" listener="#{generalVistaBean.permitirAcceso()}"/>
      <h:panelGrid id="pgRegister" cellpadding="5" columns="3">
        <f:facet>
          <p:messages id="msgs"/>
        </f:facet>
        <p:outputLabel for="userappname" value="Username:"/>
        <p:inputText id="userappname" value="#{registerBean.newUserapp.userappname}" required="true" requiredMessage="El nombre de usuario es requerido"/>
        <p:message for="userappname" display="tooltip"/>

        <p:outputLabel for="name" value=""/>
        <p:inputText id="name" value="#{registerBean.newUserapp.name}" required="true" requiredMessage="El nombre es requerido"/>
        <p:message for="name" display="tooltip"/>

        <p:outputLabel for="lastname" value=""/>
        <p:inputText id="lastname" value="#{registerBean.newUserapp.lastname}" required="true" requiredMessage="El apellido es requerido"/>
        <p:message for="lastname" display="tooltip"/>

        <p:outputLabel for="email" value=""/>
        <p:inputText id="email" value="#{registerBean.newUserapp.email}" required="true" requiredMessage="La contraseña es requerida"/>
        <p:message for="email" display="tooltip"/>

        <p:outputLabel for="sex" value=""/>
        <p:selectOneRadio id="sex" value="#{registerBean.newUserapp.sex}" required="true" requiredMessage="El sexo es requerido">
          <f:selectItem itemLabel="Masculino" itemValue="M" />
          <f:selectItem itemLabel="Femenino" itemValue="F" />
        </p:selectOneRadio>
        <p:message for="sex" display="tooltip"/>

        <p:outputLabel for="password" value=""/>
        <p:inputText id="password" value="#{registerBean.newUserapp.password}" required="true" requiredMessage="La contraseña es requerida"/>
        <p:message for="password" display="tooltip"/>

        <p:outputLabel for="confirm_password" value=""/>
        <p:inputText id="confirm_password" value="#{registerBean.confirm_password" required="true" requiredMessage="Debe confirmar la contraseña"/>
        <p:message for="confirm_password" display="tooltip"/>

        <p:outputLabel for="imagen" value="Imagen de perfil"/>
        <p:fileUpload id="imagen" label="Seleccionar imagen" value="#{registerBean.archivoImagen}" mode="simple" skinSimple="true"/>
      </h:panelGrid>

      <p:commandButton id="btnRegister" value="Registarme" actionListener="#{registerBean.register()}" process="@form" update="@form" onstart="mostrarCargando('bloqueoPgRegister')" oncomplete="ocultarCargando('bloqueoPgRegister')"/>
      <cl:cargando nombre="bloqueoPgRegister" bloqueo="pgRegister"/>

    </h:body>
</html>
